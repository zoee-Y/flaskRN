import React from 'react';
import {
  SafeAreaView,
  StyleSheet,
  ScrollView,
  View,
  Text,
  StatusBar,
  TouchableOpacity,
} from 'react-native';

TouchableOpacity.defaultProps = { activeOpacity: 0.8 };

const AppButton = ({ onPress, title }) => (
  <TouchableOpacity onPress={onPress} style={styles.appButtonContainer}>
    <Text style={styles.appButtonText}>{title}</Text>
  </TouchableOpacity>
);



export default class App extends React.Component {
  constructor() {
    super()
    this.state = {
      predictResultText: ""
    }
  }

  render() {
    return (
      <ScrollView contentContainerStyle={{ flexGrow: 1, justifyContent: 'center' }}>
        <View style={styles.container}>
          <AppButton
            onPress={this._sendFP}
            title="Send facial points"
          />
          <Text style={styles.resultText}>{this.state.predictResultText}</Text>
        </View>
      </ScrollView>
    );
  };

  _sendFP = () => {
    console.log("button pressed");

    var text = "[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372];[489,907,486,1040,488,1179,501,1318,544,1434,622,1517,724,1584,827,1633,953,1642,1077,1624,1179,1568,1272,1501,1341,1409,1386,1296,1412,1177,1433,1045,1442,921,577,845,642,782,739,771,832,790,919,828,1055,825,1135,784,1224,760,1312,767,1372,823,979,890,978,970,980,1047,980,1128,850,1168,909,1186,973,1200,1039,1189,1097,1170,672,897,721,870,779,866,832,901,779,911,721,915,1109,894,1158,854,1216,854,1266,879,1219,899,1163,905,759,1362,832,1311,907,1301,965,1311,1023,1298,1086,1306,1146,1352,1087,1397,1026,1422,967,1430,906,1430,828,1409,792,1352,906,1338,966,1341,1024,1336,1115,1347,1027,1359,967,1375,907,1372]";

    
    apiUrl = 'http://localhost:5000';


    let options = {
      method: "POST",
      body: text,
      /*headers: {
        Accept: "application/json",
        "Content-Type": "multipart/form-data",
      },*/
    };
  
    result = fetch(apiUrl, options);

    console.log(result);

    //set text of frustration and boredom after prediction
    this.setState({
      predictResultText: this.state.predictResultText + "\n" + result
    });

  } //end sendFP
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    justifyContent: "center"
  },
  appButtonContainer: {
    backgroundColor: "darkturquoise",
    borderRadius: 10,
    paddingVertical: 10,
    paddingHorizontal: 12,
  },
  appButtonText: {
    fontSize: 18,
    color: "white",
    fontWeight: "bold",
    alignSelf: "center",
    textTransform: "uppercase"
  },
  resultText: {
    fontSize: 18
  }
});